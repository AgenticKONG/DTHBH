# 事件數據抽取設計原則

## 1. 檢索機制 (Search Mechanism)
*   **全文覆蓋**：不再侷限於 `Primary_Figure` 字段，必須對 `Summary_Text` 和 `Details_Evidence` 進行全文掃描，以捕捉隱含的交互。
*   **多別名支持**：對核心人物（如傅雷）建立別名庫（如“傅怒安”、“怒安”），確保數據不遺漏。

## 2. 時空邏輯 (Spatiotemporal Logic)
*   **公理化解耦**：黃賓虹的地理位移路徑作為“底層公理”獨立存儲（`hbh_location_history.json`），所有前端視圖均需對齊此基線。
*   **動態狀態判定**：
    *   交互點的位置應根據史實（如書信、晤談）動態判斷。
    *   書信事件默認知音在常居地（如傅雷在上海），晤談事件知音與賓翁位置自動合併。
*   **嚴格生命週期**：建立嚴格的 `START_DATE` 和 `HBH_DEATH` 過濾器，杜絕“跨時空穿越”的髒數據。

## 3. 數據精細化 (Data Refinement)
*   **史實還原**：`details` 字段必須抓取 100% 的 `Details_Evidence` 原文，服務於專業研究者的“研讀原文”模式。
*   **話題自動分類**：基於關鍵詞（如“米、匯、展、知言”）對事件進行話題定性（生活冷暖、藝術交流、靈魂共鳴等）。
*   **售後回響標記**：對 1955 年後的評價類史實標記 `is_echo: true`，在前端以特殊視覺符號（如虛影節點）展現。

## 4. 輸出規範 (Output Standard)
*   **日期規範化**：所有日期必須通過 `normalize_date` 處理為 `YYYY.MM.DD` 格式，以保證 D3.js 繪圖的精度。
*   **物理終點注入**：每份人物數據流末尾必須強制包含 1955.03.25 的“終結節點”，確保敘事結構完整。
