spring:
  datasource:
    driver-class-name: org.postgresql.Driver
    url: jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5433}/${DB_NAME:huangbinhong_visualization}
    username: ${DB_USERNAME:postgres}
    password: ${DB_PASSWORD:123456}
  web:
    resources:
#      static-locations:
##        - file:///D:\IDEA\digital-huangbinhon\hbh-master  # 注意是 file:/// 三斜杠
  # Redis缓存配置
  data:
    redis:
      host: ${REDIS_HOST:localhost}
      port: ${REDIS_PORT:6379}
      password: ${REDIS_PASSWORD:}
      database: ${REDIS_DATABASE:0}
      timeout: 3000ms
      lettuce:
        pool:
          max-active: 8
          max-idle: 8
          min-idle: 0
          max-wait: -1ms
  # 缓存配置
  cache:
    type: none

# CORS配置
cors:
  allowed-origins: ${CORS_ALLOWED_ORIGINS:http://localhost:8081,http://localhost:3000}

# 资源存储配置
resource:
  storage-type: ${RESOURCE_STORAGE_TYPE:local}  # local, oss, minio
  local:
    base-url: ${RESOURCE_LOCAL_BASE_URL:http://localhost:8080}
  oss:
    endpoint: ${OSS_ENDPOINT:}
    bucket-name: ${OSS_BUCKET_NAME:}
    access-key-id: ${OSS_ACCESS_KEY_ID:}
    access-key-secret: ${OSS_ACCESS_KEY_SECRET:}
    base-url: ${OSS_BASE_URL:}

# SpringDoc OpenAPI配置（Spring Boot 3）
springdoc:
  api-docs:
    enabled: ${SWAGGER_ENABLED:true}
    path: /v3/api-docs
  swagger-ui:
    enabled: ${SWAGGER_ENABLED:true}
    path: /swagger-ui.html

# Knife4j配置（Spring Boot 3版本）
knife4j:
  enable: ${SWAGGER_ENABLED:true}
  setting:
    language: zh_cn
  production: false

mybatis:
  configuration:
    map-underscore-to-camel-case: true
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
  mapper-locations: classpath:mapper/*.xml
  type-aliases-package: org.qingliul.digitalhuangbinhon.entity

server:
  port: 8081

logging:
  level:
    root: INFO
    org.qingliul.digitalhuangbinhon: ${LOGGING_LEVEL:DEBUG}
    org.springframework.web: INFO
    org.springframework.security: INFO
    org.mybatis: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"
  file:
    name: logs/application.log
    max-size: 10MB
    max-history: 30
    total-size-cap: 1GB