# 黄宾虹数字艺术展3D展厅 - 测试规范

## 文档信息
- **版本**: v1.0
- **创建日期**: 2026-02-23
- **适用项目**: 黄宾虹数字艺术展3D展厅Beta版本

---

## 一、测试总览

### 1.1 测试目标

- 确保功能完整性
- 保证性能达标
- 验证兼容性
- 提升用户体验
- 符合无障碍标准

### 1.2 测试范围

- 功能测试
- 性能测试
- 兼容性测试
- 用户体验测试
- 无障碍测试

---

## 二、功能测试

### 2.1 展厅导航测试

| 测试项 | 测试内容 | 预期结果 | 优先级 |
|--------|---------|---------|--------|
| 序厅加载 | 进入展厅后序厅正常加载 | 序厅显示完整，无错误 | 高 |
| 早期展厅加载 | 切换到早期展厅 | 展厅显示完整，加载流畅 | 高 |
| 盛期展厅加载 | 切换到盛期展厅 | 展厅显示完整，加载流畅 | 高 |
| 晚期展厅加载 | 切换到晚期展厅 | 展厅显示完整，加载流畅 | 高 |
| 尾厅加载 | 切换到尾厅 | 展厅显示完整，加载流畅 | 高 |
| 展厅切换 | 在各展厅之间切换 | 切换流畅，无卡顿 | 高 |
| 入口标记定位 | 点击入口标记 | 正确定位到对应展厅 | 高 |
| 出口标记定位 | 点击出口标记 | 正确定位到出口位置 | 中 |

### 2.2 画框交互测试

| 测试项 | 测试内容 | 预期结果 | 优先级 |
|--------|---------|---------|--------|
| 鼠标悬停 | 鼠标悬停在画框上 | 显示简要信息，画框高亮 | 高 |
| 单击画框 | 单击画框 | 显示详细信息面板 | 高 |
| 双击画框 | 双击画框 | 相机定位到作品位置 | 高 |
| 右键菜单 | 右键点击画框 | 显示上下文菜单 | 中 |
| 收藏功能 | 点击收藏按钮 | 作品标记为已收藏 | 中 |
| 分享功能 | 点击分享按钮 | 显示分享选项 | 中 |
| 多画框交互 | 同时与多个画框交互 | 无冲突，交互正常 | 中 |

### 2.3 导览系统测试

| 测试项 | 测试内容 | 预期结果 | 优先级 |
|--------|---------|---------|--------|
| 自主漫游模式 | 切换到自主漫游模式 | 模式切换成功，功能正常 | 高 |
| 展览构成模式 | 切换到展览构成模式 | 模式切换成功，三栏联动正常 | 高 |
| 三维场景模式 | 切换到三维场景模式 | 模式切换成功，缩略图显示正常 | 高 |
| 三栏联动 | 悬停左侧栏 | 三栏同步更新，信息正确 | 高 |
| 地图交互 | 点击地图区域 | 正确定位到对应区域 | 高 |
| 作品列表展开 | 点击展开按钮 | 列表展开，显示作品 | 高 |
| 作品列表收起 | 点击收起按钮 | 列表收起，节省空间 | 中 |
| 定位功能 | 点击作品 | 相机定位到作品位置 | 高 |

### 2.4 信息展示测试

| 测试项 | 测试内容 | 预期结果 | 优先级 |
|--------|---------|---------|--------|
| 展厅介绍显示 | 查看展厅介绍 | 介绍内容完整显示 | 高 |
| 作品介绍显示 | 查看作品介绍 | 介绍内容完整显示 | 高 |
| 文字排版 | 检查文字排版 | 排版正确，易于阅读 | 高 |
| 图片加载 | 查看作品图片 | 图片正常加载显示 | 高 |
| 滚动功能 | 面板内容滚动 | 滚动流畅，无卡顿 | 高 |
| 关闭功能 | 点击关闭按钮 | 面板关闭，返回场景 | 高 |

### 2.5 键盘操作测试

| 测试项 | 测试内容 | 预期结果 | 优先级 |
|--------|---------|---------|--------|
| WASD移动 | 使用WASD键移动 | 角色正常移动 | 高 |
| 方向键操作 | 使用方向键操作 | 功能正常执行 | 高 |
| ESC关闭面板 | 按ESC键 | 面板关闭 | 高 |
| Tab焦点切换 | 按Tab键 | 焦点在元素间切换 | 高 |
| Enter确认 | 按Enter键 | 确认当前操作 | 高 |
| 空格暂停 | 按空格键 | 视频/动画暂停/继续 | 中 |
| 数字键跳转 | 按数字键1-9 | 跳转到对应作品 | 中 |

### 2.6 鼠标操作测试

| 测试项 | 测试内容 | 预期结果 | 优先级 |
|--------|---------|---------|--------|
| 鼠标拖拽旋转 | 拖拽鼠标旋转视角 | 视角正常旋转 | 高 |
| 鼠标滚轮缩放 | 使用滚轮缩放 | 场景正常缩放 | 高 |
| 鼠标点击响应 | 点击交互元素 | 响应及时，无延迟 | 高 |
| 鼠标悬停反馈 | 悬停交互元素 | 显示正确的反馈 | 高 |
| 右键菜单显示 | 右键点击 | 菜单正确显示 | 中 |
| 双击定位 | 双击画框 | 相机定位准确 | 高 |

### 2.7 触摸操作测试

| 测试项 | 测试内容 | 预期结果 | 优先级 |
|--------|---------|---------|--------|
| 单指点击 | 单指点击交互元素 | 响应正常 | 高 |
| 双指缩放 | 双指捏合/张开 | 场景缩放正常 | 高 |
| 滑动手势 | 单指滑动 | 手势识别正确 | 高 |
| 长按手势 | 长按交互元素 | 显示上下文菜单 | 中 |
| 触摸目标尺寸 | 检查触摸目标 | 尺寸合适，易于触摸 | 高 |

---

## 三、性能测试

### 3.1 加载性能测试

#### 3.1.1 测试指标

| 指标 | 目标值 | 测试方法 |
|------|--------|---------|
| 首次加载时间 | ≤ 5秒 | Chrome DevTools Network |
| 展厅切换时间 | ≤ 2秒 | Chrome DevTools Performance |
| 作品详情加载 | ≤ 1秒 | Chrome DevTools Network |
| 纹理加载时间 | ≤ 3秒 | Chrome DevTools Network |
| 模型加载时间 | ≤ 4秒 | Chrome DevTools Network |

#### 3.1.2 测试方法

```javascript
// 加载性能测试
async function testLoadingPerformance() {
  const metrics = {
    startTime: performance.now(),
    
    // 记录各个资源加载时间
    resources: {}
  };
  
  // 监听资源加载
  const observer = new PerformanceObserver((list) => {
    list.getEntries().forEach((entry) => {
      if (entry.entryType === 'resource') {
        metrics.resources[entry.name] = {
          duration: entry.duration,
          size: entry.transferSize
        };
      }
    });
  });
  
  observer.observe({ entryTypes: ['resource'] });
  
  // 等待页面加载完成
  await new Promise(resolve => window.addEventListener('load', resolve));
  
  metrics.totalTime = performance.now() - metrics.startTime;
  
  // 输出结果
  console.table(metrics.resources);
  console.log(`总加载时间: ${metrics.totalTime}ms`);
  
  return metrics;
}
```

### 3.2 渲染性能测试

#### 3.2.1 测试指标

| 指标 | 目标值 | 测试方法 |
|------|--------|---------|
| 帧率(FPS) | ≥ 60fps (桌面) | Chrome DevTools Performance |
| 帧率(FPS) | ≥ 30fps (移动) | Chrome DevTools Performance |
| 渲染时间 | ≤ 16.67ms | Chrome DevTools Performance |
| GPU占用 | ≤ 70% | GPU监控工具 |
| 内存占用 | ≤ 500MB | Chrome DevTools Memory |

#### 3.2.2 测试方法

```javascript
// 渲染性能测试
class PerformanceMonitor {
  constructor() {
    this.frames = 0;
    this.lastTime = performance.now();
    this.fps = 0;
    
    this.init();
  }
  
  init() {
    this.loop();
  }
  
  loop() {
    const now = performance.now();
    this.frames++;
    
    if (now >= this.lastTime + 1000) {
      this.fps = (this.frames * 1000) / (now - this.lastTime);
      this.frames = 0;
      this.lastTime = now;
      
      this.report();
    }
    
    requestAnimationFrame(() => this.loop());
  }
  
  report() {
    console.log(`FPS: ${this.fps.toFixed(2)}`);
    
    // 检查内存
    if (performance.memory) {
      const memory = performance.memory;
      console.log(`内存占用: ${(memory.usedJSHeapSize / 1024 / 1024).toFixed(2)}MB`);
    }
  }
}

// 启动性能监控
const monitor = new PerformanceMonitor();
```

### 3.3 交互性能测试

#### 3.3.1 测试指标

| 指标 | 目标值 | 测试方法 |
|------|--------|---------|
| 点击响应时间 | ≤ 100ms | Performance API |
| 面板展开时间 | ≤ 300ms | Performance API |
| 相机定位时间 | ≤ 2秒 | 手动计时 |
| 列表滚动流畅度 | ≥ 60fps | Performance API |
| 动画流畅度 | ≥ 60fps | Performance API |

#### 3.3.2 测试方法

```javascript
// 交互响应时间测试
function testClickResponse() {
  const button = document.querySelector('.test-button');
  
  button.addEventListener('click', (e) => {
    const responseTime = performance.now() - e.timeStamp;
    console.log(`点击响应时间: ${responseTime}ms`);
    
    if (responseTime > 100) {
      console.warn('点击响应时间超过100ms！');
    }
  });
}

// 动画流畅度测试
function testAnimationSmoothness() {
  let frameCount = 0;
  let startTime = performance.now();
  
  function countFrames() {
    frameCount++;
    requestAnimationFrame(countFrames);
  }
  
  countFrames();
  
  // 1秒后停止并计算FPS
  setTimeout(() => {
    const endTime = performance.now();
    const fps = (frameCount * 1000) / (endTime - startTime);
    console.log(`动画FPS: ${fps.toFixed(2)}`);
  }, 1000);
}
```

---

## 四、兼容性测试

### 4.1 浏览器兼容性测试

#### 4.1.1 桌面浏览器

| 浏览器 | 版本 | 基础功能 | 性能 | 兼容性 |
|--------|------|---------|------|--------|
| Chrome | 90+ | ✅ 通过 | ✅ 优秀 | ✅ 完全兼容 |
| Firefox | 88+ | ✅ 通过 | ✅ 优秀 | ✅ 完全兼容 |
| Safari | 14+ | ✅ 通过 | ✅ 良好 | ✅ 完全兼容 |
| Edge | 90+ | ✅ 通过 | ✅ 优秀 | ✅ 完全兼容 |
| Opera | 76+ | ⚠️ 部分 | ⚠️ 一般 | ⚠️ 部分兼容 |

#### 4.1.2 移动浏览器

| 浏览器 | 版本 | 基础功能 | 性能 | 兼容性 |
|--------|------|---------|------|--------|
| Chrome Mobile | 最新 | ✅ 通过 | ✅ 良好 | ✅ 完全兼容 |
| Safari iOS | 14+ | ✅ 通过 | ✅ 良好 | ✅ 完全兼容 |
| Samsung Internet | 最新 | ⚠️ 部分 | ⚠️ 一般 | ⚠️ 部分兼容 |
| UC Browser | 最新 | ⚠️ 部分 | ⚠️ 较差 | ⚠️ 部分兼容 |

### 4.2 设备兼容性测试

#### 4.2.1 桌面设备

| 平台 | 最低配置 | 测试结果 | 备注 |
|------|---------|---------|------|
| Windows 10/11 | i3/4GB/集成显卡 | ✅ 通过 | 功能完整 |
| macOS 11+ | i3/4GB/集成显卡 | ✅ 通过 | 功能完整 |
| Linux | i3/4GB/集成显卡 | ✅ 通过 | 功能完整 |

#### 4.2.2 移动设备

| 平台 | 最低配置 | 测试结果 | 备注 |
|------|---------|---------|------|
| iOS 14+ | iPhone 8+ | ✅ 通过 | 触摸优化 |
| Android 10+ | 中端设备 | ✅ 通过 | 触摸优化 |
| iPadOS 14+ | iPad (第6代) | ✅ 通过 | 平板优化 |

### 4.3 分辨率兼容性测试

| 分辨率 | 设备 | 测试结果 | 备注 |
|--------|------|---------|------|
| 320×568 | iPhone SE | ✅ 通过 | 移动端优化 |
| 375×667 | iPhone 8 | ✅ 通过 | 移动端优化 |
| 414×896 | iPhone XR | ✅ 通过 | 移动端优化 |
| 390×844 | iPhone 12 | ✅ 通过 | 移动端优化 |
| 768×1024 | iPad 竖屏 | ✅ 通过 | 平板优化 |
| 1024×768 | iPad 横屏 | ✅ 通过 | 平板优化 |
| 1366×768 | 小笔记本 | ✅ 通过 | 桌面端 |
| 1920×1080 | 全高清 | ✅ 通过 | 桌面端 |
| 2560×1440 | 2K | ✅ 通过 | 桌面端 |
| 3840×2160 | 4K | ✅ 通过 | 桌面端 |

---

## 五、用户体验测试

### 5.1 可用性测试

#### 5.1.1 测试场景

**场景1: 首次访问**
- 任务: 了解如何操作
- 步骤: 
  1. 打开页面
  2. 阅读欢迎信息
  3. 学习基本操作
  4. 开始参观
- 成功标准: 用户能在3分钟内完成所有步骤

**场景2: 浏览所有展厅**
- 任务: 浏览所有展厅
- 步骤:
  1. 从序厅开始
  2. 依次访问早期、盛期、晚期展厅
  3. 最后到达尾厅
- 成功标准: 用户能顺利浏览所有展厅，无迷失

**场景3: 查找特定作品**
- 任务: 查找《春山红树》
- 步骤:
  1. 进入早期展厅
  2. 浏览作品
  3. 找到目标作品
  4. 查看详情
- 成功标准: 用户能在2分钟内找到作品

**场景4: 收藏喜欢的作品**
- 任务: 收藏3幅作品
- 步骤:
  1. 浏览展厅
  2. 选择喜欢的作品
  3. 点击收藏
- 成功标准: 用户能成功收藏作品

**场景5: 分享作品**
- 任务: 分享作品给朋友
- 步骤:
  1. 选择作品
  2. 点击分享
  3. 选择分享方式
- 成功标准: 用户能成功分享作品

#### 5.1.2 评价指标

| 指标 | 目标值 | 实际值 | 状态 |
|------|--------|--------|------|
| 任务完成率 | ≥ 90% | - | 待测试 |
| 任务完成时间 | ≤ 预期的1.5倍 | - | 待测试 |
| 错误率 | ≤ 10% | - | 待测试 |
| 用户满意度 | ≥ 4/5分 | - | 待测试 |

### 5.2 无障碍测试

#### 5.2.1 测试工具

- WAVE (Web Accessibility Evaluation Tool)
- axe DevTools
- Lighthouse Accessibility
- 屏幕阅读器测试 (NVDA, JAWS, VoiceOver)

#### 5.2.2 测试内容

| 测试项 | 测试内容 | 预期结果 | 优先级 |
|--------|---------|---------|--------|
| 键盘导航 | 使用键盘完成所有操作 | 所有功能可通过键盘访问 | 高 |
| 屏幕阅读器 | 使用屏幕阅读器浏览 | 内容朗读正确，导航顺畅 | 高 |
| 色彩对比度 | 检查所有文字对比度 | 符合WCAG AA标准 | 高 |
| 表单标签 | 检查所有表单元素 | 标签正确，描述清晰 | 高 |
| ARIA属性 | 检查ARIA标签 | 属性完整，语义正确 | 高 |
| 焦点管理 | 检查焦点移动顺序 | 焦点可见，顺序合理 | 高 |

#### 5.2.3 测试标准

**WCAG 2.1 Level AA**

- 对比度: 文字 ≥ 4.5:1, 大文字 ≥ 3:1
- 焦点可见: 2px边框
- 键盘可访问: 所有功能可通过键盘访问
- 屏幕阅读器: 内容可被屏幕阅读器正确读取

### 5.3 A/B测试

#### 5.3.1 测试方案

**对照组**: 使用原始设计  
**实验组**: 使用优化设计

**测试指标**:
- 平均停留时间
- 页面浏览量
- 交互次数
- 任务完成率
- 用户满意度

**测试内容**:
- 设计方案A: 当前三栏布局
- 设计方案B: 两栏布局优化
- 设计方案C: 单栏布局优化

#### 5.3.2 测试方法

```javascript
// A/B测试实现
class ABTest {
  constructor(testName, variants) {
    this.testName = testName;
    this.variants = variants;
    this.variant = this.getVariant();
    this.init();
  }
  
  getVariant() {
    // 从URL参数获取
    const urlParams = new URLSearchParams(window.location.search);
    const variant = urlParams.get(`variant_${this.testName}`);
    if (variant) return variant;
    
    // 从localStorage获取
    const stored = localStorage.getItem(`variant_${this.testName}`);
    if (stored) return stored;
    
    // 随机分配
    const randomVariant = this.variants[Math.floor(Math.random() * this.variants.length)];
    localStorage.setItem(`variant_${this.testName}`, randomVariant);
    return randomVariant;
  }
  
  init() {
    // 应用变体
    this.applyVariant(this.variant);
    
    // 记录事件
    this.trackEvent('ab_test_assigned', {
      test: this.testName,
      variant: this.variant
    });
  }
  
  applyVariant(variant) {
    // 应用变体样式
    document.body.classList.add(`variant-${variant}`);
  }
  
  trackEvent(eventName, data) {
    // 发送分析数据
    console.log(eventName, data);
    // 实际项目中应发送到分析平台
  }
}

// 使用示例
const layoutTest = new ABTest('layout', ['A', 'B', 'C']);
```

---

## 六、测试工具

### 6.1 功能测试工具

| 工具 | 用途 | 推荐指数 |
|------|------|---------|
| Selenium | 自动化测试 | ⭐⭐⭐⭐⭐ |
| Cypress | 端到端测试 | ⭐⭐⭐⭐⭐ |
| Jest | 单元测试 | ⭐⭐⭐⭐⭐ |
| Puppeteer | 无头浏览器测试 | ⭐⭐⭐⭐ |

### 6.2 性能测试工具

| 工具 | 用途 | 推荐指数 |
|------|------|---------|
| Chrome DevTools | 性能分析 | ⭐⭐⭐⭐⭐ |
| Lighthouse | 综合性能测试 | ⭐⭐⭐⭐⭐ |
| WebPageTest | 加载性能测试 | ⭐⭐⭐⭐ |
| 3DMark | 3D性能测试 | ⭐⭐⭐ |

### 6.3 兼容性测试工具

| 工具 | 用途 | 推荐指数 |
|------|------|---------|
| BrowserStack | 跨浏览器测试 | ⭐⭐⭐⭐⭐ |
| LambdaTest | 云测试平台 | ⭐⭐⭐⭐ |
| Responsively App | 响应式测试 | ⭐⭐⭐⭐ |

### 6.4 无障碍测试工具

| 工具 | 用途 | 推荐指数 |
|------|------|---------|
| WAVE | 无障碍检查 | ⭐⭐⭐⭐⭐ |
| axe DevTools | 无障碍审计 | ⭐⭐⭐⭐⭐ |
| Lighthouse | 综合无障碍测试 | ⭐⭐⭐⭐⭐ |
| NVDA | 屏幕阅读器测试 | ⭐⭐⭐⭐ |

---

## 七、测试流程

### 7.1 测试计划

1. **测试准备**
   - 确定测试范围
   - 准备测试环境
   - 准备测试数据

2. **测试执行**
   - 执行功能测试
   - 执行性能测试
   - 执行兼容性测试
   - 执行用户体验测试

3. **测试报告**
   - 记录测试结果
   - 分析测试数据
   - 生成测试报告

4. **缺陷修复**
   - 提交缺陷报告
   - 跟踪修复进度
   - 验证修复结果

### 7.2 测试验收标准

| 标准 | 要求 |
|------|------|
| 功能完整性 | 所有功能正常工作 |
| 性能达标 | 所有性能指标达标 |
| 兼容性 | 支持主流浏览器和设备 |
| 用户体验 | 用户满意度 ≥ 4/5分 |
| 无障碍 | 符合WCAG 2.1 Level AA |

---

**文档版本**: v1.0  
**最后更新**: 2026-02-23  
**维护者**: 测试团队