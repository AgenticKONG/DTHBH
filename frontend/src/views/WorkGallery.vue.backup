<template>
  <body>
    <header><HeaderNavbar /></header>

    <main class="main-content">
      <!-- é¡µé¢æ ‡é¢˜ -->
      <div class="page-header">
        <h1 class="page-title">é»„å®¾è™¹ä½œå“é›†</h1>
        <p class="page-subtitle">
          æµè§ˆé»„å®¾è™¹çš„è‰ºæœ¯ä½œå“ï¼ŒæŒ‰æ—¶æœŸã€é¢˜æåˆ†ç±»ï¼Œå…¨é¢äº†è§£å¤§å¸ˆçš„è‰ºæœ¯åˆ›ä½œå†ç¨‹
        </p>
      </div>

      <!-- â‘  sub-navï¼šç”»ä½œ | ä¹¦æ³• -->
      <div class="sub-nav-wrap">
        <div class="sub-nav">
          <button
            v-for="t in typeTabs"
            :key="t.val"
            class="sub-nav-btn"
            :class="{active:selectedType===t.val}"
            @click="selectedType=t.val; selectedTag='all'"
          >{{ t.label }}</button>
        </div>
      </div>

      <!-- â‘¡ åŸç­›é€‰æ ï¼ˆä¸ sub-nav æ— ç¼ï¼‰ -->
      <section class="filters-section">
        <div class="filters-header">
          <h2 class="filters-title">ä½œå“ç­›é€‰</h2>
            <button class="toggle-filters-btn" @click="toggleFilters">
    <i class="fas fa-chevron-up" v-if="!filtersCollapsed"></i>
    <i class="fas fa-chevron-down" v-if="filtersCollapsed"></i>
  </button>
        </div>
<div  v-show="!filtersCollapsed">
        <div class="filter-row">
          <!-- æ—¶æœŸ -->
          <div class="filter-group">
            <label class="filter-label">æ—¶æœŸ</label>
            <select class="filter-select" v-model="selectedPeriod">
              <option value="all">å…¨éƒ¨æ—¶æœŸ</option>
              <option value="early">æ—©æœŸï¼ˆ1865-1900ï¼‰</option>
              <option value="middle">ä¸­æœŸï¼ˆ1901-1930ï¼‰</option>
              <option value="late">æ™šæœŸï¼ˆ1931-1955ï¼‰</option>
            </select>
          </div>

          <!-- å±±æ°´ç”»æ ‡ç­¾ -->
          <div v-if="selectedType==='å±±æ°´ç”»'" class="filter-group">
            <label class="filter-label">æ ‡ç­¾</label>
            <select class="filter-select" v-model="selectedTag">
              <option value="all">å…¨éƒ¨</option>
              <option value="æ°´å¢¨ç”»">æ°´å¢¨ç”»</option>
              <option value="æµ…ç»›å±±æ°´">æµ…ç»›å±±æ°´</option>
              <option value="ç„¦å¢¨å±±æ°´">ç„¦å¢¨å±±æ°´</option>
              <option value="é’ç»¿å±±æ°´">é’ç»¿å±±æ°´</option>
              <option value="è®¾è‰²å±±æ°´">è®¾è‰²å±±æ°´</option>
              <option value="ä¼ ç»Ÿé£æ ¼">ä¼ ç»Ÿé£æ ¼</option>
              <option value="åˆ›æ–°é£æ ¼">åˆ›æ–°é£æ ¼</option>
            </select>
          </div>

          <!-- èŠ±é¸Ÿç”»æ ‡ç­¾ -->
          <div v-if="selectedType==='èŠ±é¸Ÿç”»'" class="filter-group">
            <label class="filter-label">æ ‡ç­¾</label>
            <select class="filter-select" v-model="selectedTag">
              <option value="all">å…¨éƒ¨</option>
              <option value="èŠ±é¸Ÿ">èŠ±é¸Ÿ</option>
              <option value="èŠ±å‰ç”»">èŠ±å‰ç”»</option>
            </select>
          </div>

          <!-- ä¹¦æ³•æ ‡ç­¾ -->
          <div v-if="selectedType==='ä¹¦æ³•'" class="filter-group">
            <label class="filter-label">æ ‡ç­¾</label>
            <select class="filter-select" v-model="selectedTag">
              <option value="all">å…¨éƒ¨</option>
              <option value="è¡Œä¹¦">è¡Œä¹¦</option>
              <option value="è‰ä¹¦">è‰ä¹¦</option>
              <option value="ç¯†ä¹¦">ç¯†ä¹¦</option>
            </select>
          </div>
        </div>

        <!-- æœç´¢ã€çƒ­é—¨æ ‡ç­¾ã€å·²é€‰å¾½ç«  â€¦ ä¿æŒä¸å˜ -->
        <div class="filter-row">
          <div class="filter-group search-box">
            <label class="filter-label">æœç´¢æ–‡ç‰©</label>
            <input
              type="text"
              class="search-input"
              v-model="searchKeyword"
              @input="onSearchInput"
              @keyup.enter="triggerSearch"
              placeholder="è¾“å…¥æ–‡ç‰©åç§°æˆ–å…³é”®è¯..."
            />
            <button class="search-btn" @click="triggerSearch"><i class="fas fa-search"></i></button>
          </div>
        </div>

        <div class="filter-row" v-if="hotTags.length">
          <div class="filter-group">
            <label class="filter-label">çƒ­é—¨æœç´¢</label>
            <div class="tag-cloud">
              <span
                v-for="tag in hotTags"
                :key="tag"
                class="cloud-tag"
                :class="{active:searchKeyword===tag}"
                @click="toggleTag(tag)"
              >#{{ tag }}</span>
            </div>
          </div>
        </div>

        <button
          v-if="searchKeyword"
          class="clear-btn"
          @click="clearSearch"
          title="æ¸…ç©ºæœç´¢"
        >
          <i class="fas fa-times"></i>
        </button>

        <div class="active-filters" v-if="hasActiveFilters">
          <span class="filter-badge" v-if="selectedPeriod!=='all'">
            æ—¶æœŸï¼š{{ getPeriodLabel(selectedPeriod) }}<i class="fas fa-times" @click="selectedPeriod='all'"></i>
          </span>
          <span class="filter-badge" v-if="searchKeyword">
            æœç´¢ï¼š{{ searchKeyword }}<i class="fas fa-times" @click="clearSearch"></i>
          </span>
          <span class="filter-badge" v-if="selectedTag!=='all'">
            æ ‡ç­¾ï¼š{{  getTagLabel(selectedTag) }}<i class="fas fa-times" @click="selectedTag='all'"></i>
          </span>
        </div>
        </div>
      </section>

      <!-- ä½œå“ç½‘æ ¼ã€åŠ è½½æ›´å¤šã€ç©ºçŠ¶æ€ â€¦ ä»¥ä¸‹å…¨éƒ¨åŸæ · -->
      <div class="gallery-grid" id="galleryGrid">
        <div v-for="art in works" :key="art.id" class="artwork-card" >
          <div class="artwork-img-container">
            <img :src="art.thumbnail" :alt="art.title" class="artwork-image" />
          </div>
          <div class="artwork-info">
            <h3 class="artwork-title">{{ art.title }}</h3>
            <div class="artwork-meta"> {{ art.size }} </div>
            <div class="artwork-description">{{ art.description }}</div>
            <div class="artwork-tags">
              <span v-for="t in art.tags" :key="t" class="artwork-tag" @click="selectArtworkTag(t)">{{ t }}</span>
            </div>
            <div class="artwork-actions">
              <button class="action-btn view-detail-btn" @click.stop="viewArtworkDetail(art.id)">
                <i class="fas fa-eye"></i> æŸ¥çœ‹è¯¦æƒ…
              </button>
            </div>
          </div>
        </div>
      </div>

      <div class="load-more" v-if="works.length<total && works.length>0">
        <button class="load-more-btn" @click="loadMore" :disabled="isLoading">
          <i v-if="isLoading" class="fas fa-spinner fa-spin"></i>
          <span v-else>åŠ è½½æ›´å¤šä½œå“</span>
        </button>
      </div>

      <div class="empty-state" v-if="works.length===0 && !isLoading">
        <div class="empty-icon"><i class="fas fa-palette"></i></div>
        <h3>æœªæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„ä½œå“</h3>
        <p>è¯·å°è¯•è°ƒæ•´ç­›é€‰æ¡ä»¶æˆ–æœç´¢å…³é”®è¯</p>
      </div>

      <div class="loading-state" v-if="isLoading && works.length===0">
        <div class="loading-icon"><i class="fas fa-spinner fa-spin"></i></div>
        <p>æ­£åœ¨åŠ è½½ä½œå“...</p>
      </div>
    </main>
    <button class="back-to-top" @click="scrollToTop" v-show="showBackToTop">
      <i class="fas fa-arrow-up"></i>
    </button>
  </body>
</template>

<script>
import HeaderNavbar from '../components/HeaderNavbar.vue'

export default {
  name: 'GalleryPage',
  components: { HeaderNavbar },
  data() {
    return {
      filtersCollapsed: true,
      showBackToTop: true, 
      selectedPeriod: 'all',
      selectedType: 'å±±æ°´ç”»',
      selectedTag: 'all', 
      searchKeyword: '',
      currentPage: 1,
      itemsPerPage: 12,
      works: [],
      total: 0,
      isLoading: false,
      searchTimeout: null,
      typeTabs: [
        { val: 'å±±æ°´ç”»', label: 'å±±æ°´ç”»' },
        { val: 'èŠ±é¸Ÿç”»', label: 'èŠ±é¸Ÿç”»' },
        { val: 'ä¹¦æ³•', label: 'ä¹¦æ³•' }
      ],
      hotTags: ['å±±æ°´', 'æ°´å¢¨', 'æµ…ç»›', 'ç„¦å¢¨', 'ç¯†ä¹¦', 'è¡Œä¹¦', 'èŠ±é¸Ÿ']
    }
  },
  computed: {
    hasActiveFilters() {
      return this.selectedType!=='all' || this.selectedPeriod!=='all' || this.searchKeyword.trim()!==''
    }
  },
  watch: {
    selectedPeriod() { this.resetAndSearch() },
    selectedType()  { this.resetAndSearch() },
    selectedTag()   { this.resetAndSearch() },
    '$route.query.tag'() { this.applyRouteTag() }
  },
  mounted() {
    this.applyRouteTag()
    this.fetchWorks()
    window.addEventListener("scroll", this.handleScroll);
  },
  methods: {
    /* ===== æ–°å¢ URL tag è‡ªåŠ¨å›æ˜¾ ===== */
      toggleFilters() {
    this.filtersCollapsed = !this.filtersCollapsed; // åˆ‡æ¢çŠ¶æ€
  },
      scrollToTop() {
    window.scrollTo({
      top: 0,
      behavior: "smooth", // å¹³æ»‘æ»šåŠ¨
    });
  },
  handleScroll() {
    // å½“æ»šåŠ¨è·ç¦»è¶…è¿‡ä¸€å®šå€¼æ—¶æ˜¾ç¤ºæŒ‰é’®
    this.showBackToTop = window.scrollY > 200;
  },
    applyRouteTag() {
      const tag = this.$route.query.tag
      if (!tag) return
      this.selectedTag = tag
      // æ ¹æ®æ ‡ç­¾ç±»å‹è®¾ç½®åˆ†ç±»
      if (['è¡Œä¹¦', 'è‰ä¹¦', 'ç¯†ä¹¦'].includes(tag)) {
        this.selectedType = 'ä¹¦æ³•'
      } else if (['èŠ±é¸Ÿ', 'èŠ±å‰ç”»'].includes(tag)) {
        this.selectedType = 'èŠ±é¸Ÿç”»'
      } else {
        this.selectedType = 'å±±æ°´ç”»'
      }
      this.resetAndSearch()
    },
    selectArtworkTag(tag) {
      this.selectedTag = tag
      this.resetAndSearch()
    },
    toggleTag(tag) {
      this.searchKeyword = this.searchKeyword === tag ? '' : tag
      this.triggerSearch()
    },
    onSearchInput() {
      if (this.searchTimeout) clearTimeout(this.searchTimeout)
      this.searchTimeout = setTimeout(() => this.resetAndSearch(), 500)
    },
    triggerSearch() {
      if (this.searchTimeout) clearTimeout(this.searchTimeout)
      this.resetAndSearch()
    },
    clearSearch() {
      this.searchKeyword = ''
      this.resetAndSearch()
    },
    resetAndSearch() {
      this.currentPage = 1
      this.works = []
      this.fetchWorks(false)
    },
    async fetchWorks(isLoadMore = false) {
      if (this.isLoading) return
      this.isLoading = true

      if (!isLoadMore) {
        this.currentPage = 1
        this.works = []
      }

      try {
    const params = new URLSearchParams()
    params.append('page', this.currentPage.toString())
    params.append('size', this.itemsPerPage.toString())
    
    // ç±»å‹ç­›é€‰
    if (this.selectedType !== 'all') {
      // ç›´æ¥ä½¿ç”¨åˆ†ç±»åç§°ï¼Œä¸å†éœ€è¦æ˜ å°„
      params.append('category', this.selectedType)
    }
    
    // æœç´¢å…³é”®è¯
    if (this.searchKeyword.trim()) {
      params.append('works_name', this.searchKeyword.trim())
    }
    
    // æ ‡ç­¾ç­›é€‰
    if (this.selectedTag !== 'all') {
      params.append('tags', this.selectedTag)
    }
    
    // âœ… å…³é”®ä¿®æ”¹ï¼šä¼ art_periodè€Œä¸æ˜¯å¹´ä»½èŒƒå›´
    if (this.selectedPeriod !== 'all') {
      params.append('art_period', this.getPeriodLabel(this.selectedPeriod))
    }
    
    // é€‰æ‹©æ¥å£
    let url
    // å¦‚æœæ˜¯çº¯æ—¶æœŸç­›é€‰ï¼ˆæ— å…¶ä»–æ¡ä»¶ï¼‰- ç°åœ¨ä¸éœ€è¦ç‰¹æ®Šå¤„ç†äº†
    // ç›´æ¥èµ°é€šç”¨æ¥å£
    url = `/api/works/list?${params.toString()}`
    
    console.log('ğŸ“¡ è¯·æ±‚URL:', url)
    
    const res = await fetch(url)
    const json = await res.json()
    
    console.log('ğŸ“¦ å“åº”æ•°æ®:', {
      çŠ¶æ€ç : json.code,
      æ€»æ•°: json.data?.total,
      åˆ—è¡¨é•¿åº¦: json.data?.list?.length
    })
    
    if (json.code === 200) {
      const list = json.data.list.map(i => ({
        id: i.worksId,
        title: i.worksName,
        year: i.creationYear,
        type: i.category,
        period: i.artPeriod || this.getPeriod(i.creationYear), // ä¼˜å…ˆç”¨æ•°æ®åº“çš„art_period
        thumbnail: i.thumbnailUrl || '/images/default.jpg',
        size: i.size || 'å°ºå¯¸ä¸è¯¦',
        // collection: i.collectionInstitution || 'æ”¶è—æœºæ„ä¸è¯¦',
        description: i.worksDesc || 'æš‚æ— ç®€ä»‹',
        tags: i.tags || []
      }))
      
      if (isLoadMore) {
        this.works = [...this.works, ...list]
      } else {
        this.works = list
      }
      
      this.total = json.data.total || 0
      
      console.log(`âœ… åŠ è½½å®Œæˆï¼Œæ˜¾ç¤º ${this.works.length} ä¸ªä½œå“`)
      
    } else {
      console.error('âŒ APIé”™è¯¯:', json.msg)
      if (!isLoadMore) this.works = []
    }
    
  } catch (e) {
    console.error('âŒ è¯·æ±‚å¤±è´¥:', e)
    if (!isLoadMore) this.works = []
  } finally {
    this.isLoading = false
  }
},
    getYearRange(p) {
      switch (p) {
        case 'early':  return { startYear: 1865, endYear: 1900 }
        case 'middle': return { startYear: 1901, endYear: 1930 }
        case 'late':   return { startYear: 1931, endYear: 1955 }
        default: return null
      }
    },
    getPeriod(y) {
      if (!y) return 'unknown'
      if (y <= 1900) return 'early'
      if (y <= 1930) return 'middle'
      return 'late'
    },
    getTagLabel(y) {
      const map = {
        'æ°´å¢¨ç”»': 'æ°´å¢¨ç”»',
        'æµ…ç»›å±±æ°´': 'æµ…ç»›å±±æ°´',
        'ç„¦å¢¨å±±æ°´': 'ç„¦å¢¨å±±æ°´',
        'é’ç»¿å±±æ°´': 'é’ç»¿å±±æ°´',
        'è®¾è‰²å±±æ°´': 'è®¾è‰²å±±æ°´',
        'ä¼ ç»Ÿé£æ ¼': 'ä¼ ç»Ÿé£æ ¼',
        'åˆ›æ–°é£æ ¼': 'åˆ›æ–°é£æ ¼',
        'èŠ±é¸Ÿ': 'èŠ±é¸Ÿ',
        'èŠ±å‰ç”»': 'èŠ±å‰ç”»',
        'è¡Œä¹¦': 'è¡Œä¹¦',
        'è‰ä¹¦': 'è‰ä¹¦',
        'ç¯†ä¹¦': 'ç¯†ä¹¦'
      }
      return map[y] || y
    },
    
   getPeriodLabel(p) {
      return { early: 'æ—©æœŸ', middle: 'ä¸­æœŸ', late: 'æ™šæœŸ' }[p] || p
    },

    loadMore() {
      if (this.works.length >= this.total || this.isLoading) return
      this.currentPage++
      this.fetchWorks(true)
    },
    viewArtworkDetail(id) { this.$router.push(`/work?id=${id}`) }
  },
beforeUnmount() {
    window.removeEventListener('resize', this.onResize);
  },
}
</script>


<style>
/* ===== ä»…éœ€è¿½åŠ çš„å°‘é‡æ ·å¼ ===== */
.type-tabs{display:flex;gap:10px}
.type-btn{padding:6px 18px;border:1px solid #d2b48c;background:#fff;color:#5c4033;border-radius:4px;cursor:pointer;font-size:14px;transition:.3s}
.type-btn.active,.type-btn:hover{background:#d2b48c;color:#fff}
.tag-cloud{display:flex;flex-wrap:wrap;gap:8px}
.cloud-tag{padding:4px 10px;border:1px solid #d2b48c;border-radius:12px;font-size:12px;color:#5c4033;cursor:pointer;transition:.3s}
.cloud-tag.active,.cloud-tag:hover{background:#d2b48c;color:#fff}
/* ä»¥ä¸‹æ ·å¼ä¸ä½ åŸæ–‡ä»¶å®Œå…¨ä¸€è‡´ï¼Œæ— éœ€æ”¹åŠ¨ */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
body {
  color: #333;
  background: linear-gradient(135deg, #f5f0e6 0%, #e8dfca 100%);
  min-height: 100vh;
  font-family: "SimSun", "STSong", "KaiTi", "STKaiti", Georgia, Times New Roman, serif;
}
.main-content {
  padding-top: 100px;
  max-width: 1400px;
  margin: 0 auto;
  padding: 20px;
}
.page-header {
  text-align: center;
  padding: 20px 15px;
  border-radius: 15px;
  margin-bottom: 20px;
  margin-top: 40px;
}
.page-title {
  color: #8b4513;
  font-size: 36px;
  margin-bottom: 10px;
}
.page-subtitle {
  color: #5c4033;
  font-size: 18px;
  max-width: 800px;
  margin: 0 auto;
  line-height: 1.6;
}
.filters-section {
  background-color: white;
  border-radius: 8px;
  padding: 25px;
    padding-bottom: 10px;
  margin: 0 60px;
  margin-top: 0;
  margin-bottom: 20px;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
}
.filters-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}
.filters-title {
  font-size: 1.5rem;
  font-weight: 600;
  color: #1a3c40;
}
.view-toggle {
  display: flex;
  gap: 10px;
}
.view-btn {
  background: none;
  border: 1px solid #ddd;
  padding: 8px 12px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 1.1rem;
  color: #666;
  transition: all 0.3s;
}
.view-btn.active,
.view-btn:hover {
  background-color: #1a3c40;
  color: white;
  border-color: #1a3c40;
}
.filter-row {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  margin-bottom: 15px;
}
.filter-group {
  flex: 1;
  min-width: 200px;
}
.filter-label {
  display: block;
  margin-bottom: 8px;
  font-weight: 500;
  color: #555;
}
.filter-select,
.search-input {
  width: 100%;
  padding: 10px 15px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-family: 'Noto Serif SC', serif;
  font-size: 1rem;
  background-color: white;
}
.search-box {
  position: relative;
}
.search-btn {
  position: absolute;
  right: 10px;
  top: 70%;
  transform: translateY(-50%);
  background: none;
  border: none;
  color: #666;
  font-size: 1.1rem;
  cursor: pointer;
}
.artwork-tag {
  background-color: #f0e6d6;
  border: 1px solid #d2b48c;
  margin: 5px;
  border-radius: 12px;
  padding: 3px 8px;
  font-size: 11px;
  color: #5c4033;
}
.artwork-tag:hover {
  background-color: #d2b48c;
  color: #333;
}
.artwork-actions {
  display: flex;
  gap: 10px;
}
.action-btn {
  margin-top: 10px;
  flex: 1;
  padding: 8px 12px;
  border: 1px solid #d2b48c;
  background-color: #f8f4e6;
  border-radius: 5px;
  color: #5c4033;
  cursor: pointer;
  font-size: 12px;
  font-family: inherit;
  transition: all 0.3s;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 5px;
}
.action-btn:hover {
  background-color: #d2b48c;
  color: #333;
}
.load-more {
  text-align: center;
  margin: 30px 0;
}
.load-more-btn {
  padding: 12px 40px;
  background-color: #d2b48c;
  border: none;
  border-radius: 5px;
  color: #333;
  cursor: pointer;
  font-family: inherit;
  font-size: 16px;
  transition: all 0.3s;
  display: inline-flex;
  align-items: center;
  gap: 10px;
}
.load-more-btn:hover {
  background-color: #a67c52;
  color: #fff;
}
.empty-state {
  text-align: center;
  padding: 60px 20px;
  color: #666;
}
.empty-icon {
  font-size: 60px;
  color: #d2b48c;
  margin-bottom: 20px;
}
.gallery-grid {
  column-count: 3;
  column-gap: 20px;
  padding: 25px;
  margin: 0 60px;
  margin-bottom: 40px;
}
.gallery-grid.list-view {
  column-count: 1;
  max-width: 1000px;
  margin-left: auto;
  margin-right: auto;
  overflow: hidden;
}
.artwork-card {
  background-color: white;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
  transition: transform 0.3s, box-shadow 0.3s;
  break-inside: avoid;
  margin-bottom: 25px;
  display: inline-block;
  width: 100%;
}
.gallery-grid.list-view .artwork-card {
  overflow: hidden;
  height: 100px;
  display: flex;
  flex-direction: row;
  align-items: center;
  padding: 0;
  min-height: 200px;
}
.artwork-img-container {
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: #f8f9fa;
  width: 100%;
  height: auto;
  max-height: 550px;
}
.gallery-grid.list-view .artwork-img-container {
  overflow: hidden;
  width: 200px;
  min-height: 200px;
  padding: 20px;
  flex-shrink: 0;
  border-radius: 8px 0 0 8px;
}
/* ===== ç²¾è‡´æ¸…é™¤æŒ‰é’® ===== */
.clear-btn {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  width: 22px;
  height: 22px;
  border: none;
  border-radius: 50%;
  background: linear-gradient(135deg, #d2b48c 0%, #a67c52 100%);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-size: 12px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
  transition: all 0.25s ease;
}
.clear-btn:hover {
  transform: translateY(-50%) scale(1.15);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}
.clear-btn:active {
  transform: translateY(-50%) scale(0.95);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}
.artwork-image {
  max-width: 100%;
  height: auto;
  object-fit: contain;
  display: block;
  background-color: #f8f9fa;
  margin: 0 auto;
}
.gallery-grid.list-view .artwork-image {
  overflow: hidden;
  max-height: 160px;
  max-width: 200px;
}
.artwork-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
}
.gallery-grid.list-view .artwork-card:hover {
  transform: translateX(5px);
}
.gallery-grid.list-view .artwork-info {
  flex: 1;
  padding: 25px;
}
.artwork-info {
  padding: 20px;
}
.artwork-title {
  font-size: 1.3rem;
  font-weight: 600;
  margin-bottom: 8px;
  color: #1a3c40;
}
.gallery-grid.list-view .artwork-title {
  font-size: 1.4rem;
  margin-bottom: 12px;
}
.artwork-meta {
  color: #666;
  font-size: 0.95rem;
  margin-bottom: 8px;
}
.artwork-description {
  color: #777;
  font-size: 0.95rem;
  line-height: 1.5;
  margin-bottom: 10px;
}
.sub-nav-wrap{
  max-width:1400px;
  margin:0 auto;
  padding:0 60px;          /* ä¸ä¸‹æ–¹ filters-section å·¦å³å¯¹é½ */
}
.sub-nav{
  display:inline-flex;     /* åªæ’‘å¼€å†…å®¹å®½åº¦ */
  background:#fff;
  border-radius:8px 8px 0 0;   /* å·¦ä¸Š + å³ä¸Šåœ†è§’ */
  overflow:hidden;
  box-shadow:0 -2px 5px rgba(0,0,0,.05);
}
.sub-nav-btn{
  padding:8px 24px;
  border:none;
  background:transparent;
  color:#5c4033;
  font-size:15px;
  cursor:pointer;
  transition:.3s;
  position:relative;
}
.sub-nav-btn:hover{background:#f5f0e6}
.sub-nav-btn.active{
  background:#d2b48c;
  color:#fff;
}
/* è®© sub-nav ä¸‹è¾¹ç¼˜ä¸ filters-section ä¸Šè¾¹ç¼˜æ— ç¼è´´åˆ */
.filters-section{
  border-top-left-radius:0;   /* å»æ‰å·¦ä¸Šè§’åœ†è§’ */
  margin-top:-1px;            /* å æ‰ 1px ç¼éš™ */
  
}
.back-to-top {
    margin: 30px;
    padding: 30px;
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 50px;
  height: 50px;
  border: none;
  border-radius: 50%;
  background-color: #d2b48c;
  color: #fff;
  font-size: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
  transition: all 0.3s;
}
.back-to-top:hover {
  background-color: #a67c52;
  transform: scale(1.1);
}
.back-to-top:active {
  transform: scale(0.9);
}
.toggle-filters-btn {
  background: none;
  border: none;
  color: #5c4033;
  font-size: 1.2rem;
  cursor: pointer;
  transition: transform 0.3s;
}

.toggle-filters-btn:hover {
  transform: scale(1.1);
}
@media (max-width: 768px) {
  .mobile-menu-btn {
    display: block;
  }
  .page-title {
    font-size: 28px;
  }
  .filter-bar {
    flex-direction: column;
  }
  
}
</style>
